# üîî Telegram Reminder Bot

Telegram –±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ —Å–æ–±—ã—Ç–∏—è—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–æ–≤—ã—Ö –∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π
- üìÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ
- ‚è∞ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (–∑–∞ –º–∏–Ω—É—Ç—ã, —á–∞—Å—ã, –¥–Ω–∏)
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- üïê –†–∞–±–æ—Ç–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ Europe/Moscow (GMT+3)
- üí¨ –†–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö –∏ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9 –∏–ª–∏ –≤—ã—à–µ
- pip (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python)
- Telegram Bot Token –æ—Ç [@BotFather](https://t.me/BotFather)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/torviktor/family-verevkini-reminder.git
cd family-verevkini-reminder
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

–ò–ª–∏ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
pip install -r requirements.txt
```

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º:**
```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω:
```env
TELEGRAM_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python3 main.py
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
ü§ñ Bot started!
üïê Timezone: Europe/Moscow
==================================================
‚úÖ Bot initialization complete!
üîî Reminder checker started!
üíö Keep-alive started!
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/menu` –∏–ª–∏ `/start` ‚Äî –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/cancel` ‚Äî –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ
- `/help` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/debug` ‚Äî –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è

1. –ù–∞–∂–º–∏—Ç–µ **"‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ"**
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è")
3. –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD HH:MM`
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:
   - üî¥ –û–¥–∏–Ω —Ä–∞–∑
   - üìÜ –ö–∞–∂–¥—ã–π –¥–µ–Ω—å
   - üìÖ –ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
   - üìä –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–∑–∞ —Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å)

### –†–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
2. –£ @BotFather –≤—ã–∫–ª—é—á–∏—Ç–µ Group Privacy: `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Group Privacy ‚Üí Turn off

## üñ•Ô∏è –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –°–ø–æ—Å–æ–± 1: –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å –ø–æ–º–æ—â—å—é screen
```bash
screen -S telegram-bot
python3 main.py
```

–û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è: `Ctrl+A`, –∑–∞—Ç–µ–º `D`  
–í–µ—Ä–Ω—É—Ç—å—Å—è: `screen -r telegram-bot`

### –°–ø–æ—Å–æ–± 2: Systemd service (Linux)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/telegram-bot.service`:
```ini
[Unit]
Description=Telegram Reminder Bot
After=network.target

[Service]
Type=simple
User=your_username
WorkingDirectory=/path/to/family-verevkini-reminder
Environment="TELEGRAM_TOKEN=your_token_here"
ExecStart=/usr/bin/python3 /path/to/family-verevkini-reminder/main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å–∫:
```bash
sudo systemctl daemon-reload
sudo systemctl start telegram-bot
sudo systemctl enable telegram-bot  # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
sudo systemctl status telegram-bot
```

–õ–æ–≥–∏:
```bash
sudo journalctl -u telegram-bot -f
```

### –°–ø–æ—Å–æ–± 3: nohup (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)
```bash
nohup python3 main.py > bot.log 2>&1 &
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

–í —Ñ–∞–π–ª–µ `main.py` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```python
TIMEZONE = pytz.timezone("Europe/Moscow")
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```python
TIMEZONE = pytz.timezone("Europe/London")     # GMT+0
TIMEZONE = pytz.timezone("America/New_York")  # EST
TIMEZONE = pytz.timezone("Asia/Tokyo")        # JST
```

[–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
family-verevkini-reminder/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)
‚îú‚îÄ‚îÄ .env.example        # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ .gitignore          # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ events.json         # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –±—ã–ª —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
3. API Token ‚Üí Revoke current token
4. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω
ps aux | grep main.py

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f bot.log
# –∏–ª–∏
sudo journalctl -u telegram-bot -f
```

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤ –∫–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `date`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/debug` –≤ –±–æ—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –û—à–∏–±–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ pip
pip install --upgrade pip

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --force-reinstall
```

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–Ø–∑—ã–∫:** Python 3.11+
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Telegram:** python-telegram-bot 20.7
- **–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞:** pytz 2024.1
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** JSON —Ñ–∞–π–ª (events.json)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Polling (–Ω–µ webhook)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:** –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- **Keep-alive –ø–∏–Ω–≥:** –∫–∞–∂–¥—ã–µ 25 –º–∏–Ω—É—Ç

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ë–∞–≥–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –°–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –∏ Pull Requests.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üë§ –ê–≤—Ç–æ—Ä

[@torviktor](https://github.com/torviktor)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- [@BotFather](https://t.me/BotFather) –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤ Telegram
```

5. Commit changes: `Add README`

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤ GitHub –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
family-verevkini-reminder/
‚îú‚îÄ‚îÄ main.py              ‚úÖ
‚îú‚îÄ‚îÄ requirements.txt     ‚úÖ
‚îú‚îÄ‚îÄ README.md            ‚úÖ
‚îú‚îÄ‚îÄ .gitignore          ‚úÖ
‚îî‚îÄ‚îÄ .env.example        ‚úÖ
```
4. –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø—ã —Å–º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
6. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
